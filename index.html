<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <title>ADMIN PANEL - FIREBASE</title>
    <style>
        body { background: #0a0a0a; color: white; display: flex; flex-direction: column; justify-content: center; align-items: center; height: 100vh; font-family: sans-serif; }
        .kill-btn { padding: 30px 60px; font-size: 24px; background: red; color: white; border: none; border-radius: 50px; cursor: pointer; font-weight: bold; box-shadow: 0 0 30px rgba(255,0,0,0.5); }
        .status { margin-top: 20px; color: #888; }
    </style>
</head>
<body>
    <button class="kill-btn" onclick="toggleSite(false)">ДЕАКТИВУВАТИ САЙТ</button>
    <button style="margin-top: 20px; background: green;" class="kill-btn" onclick="toggleSite(true)">УВІМКНУТИ НАЗАД</button>
    <div id="msg" class="status">Очікування дії...</div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.9.0/firebase-app.js";
        import { getFirestore, doc, setDoc } from "https://www.gstatic.com/firebasejs/10.9.0/firebase-firestore.js";

        const firebaseConfig = {
            apiKey: "AIzaSyDHuCboBzJT5Uc7Z6nLHekPoYFjO6GNHF8",
            authDomain: "podzvoni-ee921.firebaseapp.com",
            projectId: "podzvoni-ee921",
            storageBucket: "podzvoni-ee921.firebasestorage.app",
            messagingSenderId: "214583656309",
            appId: "1:214583656309:web:789fb988cc4a775882dd3c"
        };

        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        window.toggleSite = async (status) => {
            document.getElementById('msg').innerText = "Зміна статусу...";
            try {
                await setDoc(doc(db, "settings", "siteStatus"), {
                    active: status
                });
                document.getElementById('msg').innerText = status ? "Сайт ПРАЦЮЄ" : "Сайт ДЕАКТИВОВАНО (Редирект на Zara)";
                alert("Готово!");
            } catch (e) {
                alert("Помилка бази: " + e.message);
            }
        };
    </script>
</body>
</html>
